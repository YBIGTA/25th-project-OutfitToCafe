{% extends "coplate_base/base_with_navbar.html" %}
{% load static %}
{% block content %}
<main class="site-body index">
  <div class="main-header">
    <div class="fg">

      <div class="image-container">
        <!-- <img src="{% static 'coplate/assets/dripshot_button.svg' %}" alt="Drip Shot Image" class="main-image"> -->
      </div>
      <div class="button-container">
        <a href="{% url 'image-upload' %}" class="button-profile">
          <img src="/static/coplate/assets/find.png"></a>
        <a href="{% url 'dripshot-create' %}" class="button-profile">
          <img src="/static/coplate/assets/community.png"></a>
        <a href="{% url 'profile' user.id %}" class="button-profile">
          <img src="/static/coplate/assets/mypage.png"></a>
    </div>
    </div>
    <div class="content">
      <h1></h1>
      <div class="keyword-list">
        {% for keyword in cafe_keywords %}
          <a href="{% url 'search' %}?query={{ keyword }}" class="cp-chip-keyword green">{{ keyword }}</a>
        {% endfor %}
      </div>
    </div>
  </div>
  
  <div class="content-list max-content-width">
    
    <div class="header">
      <h2>오늘의 드립샷</h2>
      <a class="cp-ic-button circle newreview" href="{% url 'dripshot-list' %}" data-login-required>더보기</a>
    </div>
    {% include "components/dripshot_list.html" with drip_shots=drip_shot_review empty_message="아직 리뷰가 없어요:(" %}
    {% if latest_reviews %}
      <!-- Add content here if there are latest_reviews -->
    {% endif %}
  </div>

  <!-- index.html -->
<div class="content-list max-content-width">
  <div class="header">
      <div class="header-content">
          <h2>내 스타일 카페는?</h2>
          <div class="keywords">
              {% for keyword in user_keywords %}
                  <span class="keyword">{{ keyword.keyword }}</span>
              {% empty %}
                  <span class="keyword">키워드 없음</span>
              {% endfor %}
          </div>
      </div>
      <a class="cp-ic-button circle newreview" href="{% url 'style-cafe-list' %}" data-login-required>더보기</a>
  </div>
  {% include "components/style_cafe_list.html" with style_cafe=style_cafe empty_message="아직 리뷰가 없어요:(" %}
</div>

<div class="content-list max-content-width">
  <div class="header">
      <div class="header-content">
          <h2>내 주변 카페</h2>
          <div class="keywords">
            {% if recommend_location %}
              <span class="keyword">추천 위치: {{ recommend_location }}</span>
             {% else %}
              <span class="keyword">추천 위치가 설정되지 않았습니다.</span>
            {% endif %}
          </div>
      </div>
      <a class="cp-ic-button circle newreview" href="{% url 'around-list' %}" data-login-required>더보기</a>
  </div>
  {% include "components/around_list.html" with cafes=cafes empty_message="아직 리뷰가 없어요:(" %}
</div>


</main>
{% endblock content %}

{% block js %}
<script>
  const isAuthenticated = '{{ user.is_authenticated }}' === 'True';
</script>
<script src="{% static 'coplate/js/auth.js' %}"></script>
{% endblock js %}
